!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("flyd")):"function"==typeof define&&define.amd?define(["react","flyd"],n):"object"==typeof exports?exports.reactFlyd=n(require("react"),require("flyd")):t.reactFlyd=n(t.React,t.flyd)}(this,function(t,n){return function(t){function n(r){if(e[r])return e[r].exports;var u=e[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";n.__esModule=!0;var r=e(5);n.h=r.h},function(n,e){n.exports=t},function(t,e){t.exports=n},function(t,n){t.exports=function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,u){return n.apply(this,arguments)};case 5:return function(t,e,r,u,o){return n.apply(this,arguments)};case 6:return function(t,e,r,u,o,i){return n.apply(this,arguments)};case 7:return function(t,e,r,u,o,i,a){return n.apply(this,arguments)};case 8:return function(t,e,r,u,o,i,a,s){return n.apply(this,arguments)};case 9:return function(t,e,r,u,o,i,a,s,c){return n.apply(this,arguments)};case 10:return function(t,e,r,u,o,i,a,s,c,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,n){t.exports=function(t){return function n(e){return 0===arguments.length?n:null!=e&&e["@@functional/placeholder"]===!0?n:t.apply(this,arguments)}}},function(t,n,e){"use strict";function r(t){return t.map(function(t){return o.isStream(t)?i.createElement(a.reactive("span"),{},t):t})}function u(t,n){for(var e=arguments.length,u=Array(e>2?e-2:0),c=2;e>c;c++)u[c-2]=arguments[c];return s.hasStream(n)||n&&o.isStream(n.mount)?i.createElement.apply(void 0,[a.reactive(t),s.toStreams(n)].concat(1===u.length?u:r(u))):i.createElement.apply(void 0,[t,n].concat(r(u)))}n.__esModule=!0,n.h=u;var o=e(2),i=e(1),a=e(13),s=e(6)},function(t,n,e){"use strict";function r(t){return Object.keys(t||{}).reduce(function(n,e){if(n)return n;var u=t[e];return a.isStream(u)?!0:c(u)?r(u):n},!1)}function u(t){return c(t)&&r(t)?s.stream(t):t}function o(t){return Object.keys(t).reduce(function(n,e){var r;return i({},n,(r={},r[e]=u(t[e]),r))},{})}n.__esModule=!0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};n.hasStream=r,n.toStreams=o;var a=e(2),s=e(8),c=function(t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}},function(t,n,e){function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function u(t,n){return S(function(n,e){e(t(n.val))},[n])}function o(t,n){return S(function(n){t(n.val)},[n])}function i(t){return u(t,this)}function a(t){var n=this;return S(function(t,n,e){e(t.val(n.val))},[n,t])}function s(t){return t.depsMet=t.deps.every(function(t){return t.hasVal}),!t.depsMet}function c(t){if(!(t.depsMet!==!0&&s(t)||void 0!==t.end&&t.end.val===!0)){if(void 0!==C)return void q.push(t);C=t,t.depsChanged&&(t.fnArgs[t.fnArgs.length-1]=t.depsChanged);var n=t.fn.apply(t.fn,t.fnArgs);void 0!==n&&t(n),C=void 0,void 0!==t.depsChanged&&(t.depsChanged=[]),t.shouldUpdate=!1,R===!1&&p()}}function f(t){var n,e=t.listeners;if(t.queued===!1){for(t.queued=!0,n=0;n<e.length;++n)f(e[n]);U[++F]=t}}function l(t){var n,e,r,u=t.listeners;for(n=0;n<u.length;++n)r=u[n],r.end===t?P(r):(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0,f(r));for(;F>=0;--F)e=U[F],e.shouldUpdate===!0&&c(e),e.queued=!1}function p(){for(R=!0;q.length>0;){var t=q.shift();t.vals.length>0&&(t.val=t.vals.shift()),l(t)}R=!1}function d(t){return r(t)&&"hasVal"in t}function h(){return"stream("+this.val+")"}function v(t,n){return void 0!==n&&null!==n&&r(n.then)?void n.then(t):(t.val=n,t.hasVal=!0,void(void 0===C?(R=!0,l(t),q.length>0?p():R=!1):C===t?g(t,t.listeners):(t.vals.push(n),q.push(t))))}function g(t,n){var e,r;for(e=0;e<n.length;++e)r=n[e],r.end!==t?(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0):P(r)}function y(){function t(n){return arguments.length>0?(v(t,n),t):t.val}return t.hasVal=!1,t.val=void 0,t.vals=[],t.listeners=[],t.queued=!1,t.end=void 0,t.map=i,t.ap=a,t.of=M,t.toString=h,t}function m(t,n){for(var e=0;e<t.length;++e)t[e].listeners.push(n)}function b(t,n){var e=y();return e.fn=n,e.deps=t,e.depsMet=!1,e.depsChanged=t.length>0?[]:void 0,e.shouldUpdate=!1,m(t,e),e}function O(t){return t.depsMet===!1&&(t.depsMet=!0,c(t)),t}function j(t,n){var e=n.indexOf(t);n[e]=n[n.length-1],n.length--}function x(t){for(var n=0;n<t.deps.length;++n)j(t,t.deps[n].listeners);t.deps.length=0}function P(t){void 0!==t.deps&&x(t),void 0!==t.end&&x(t.end)}function _(t,n){return x(n.end),t.listeners.push(n.end),n.end.deps.push(t),n}function k(){return!0}function M(t){var n=b([],k),e=y();return e.end=n,e.fnArgs=[],n.listeners.push(e),arguments.length>0&&e(t),e}function S(t,n){var e,r,u,o,i=b([],k);for(u=[],o=[],e=0;e<n.length;++e)void 0!==n[e]&&(u.push(n[e]),void 0!==n[e].end&&o.push(n[e].end));return r=b(u,t),r.depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=i,i.listeners.push(r),m(o,i),i.deps=o,c(r),r}function w(){}var C,E=e(9),q=[],V=E(3,function(t,n,e){var r=S(function(e,r){r(n=t(n,e.val))},[e]);return r.hasVal||r(n),r}),A=E(2,function(t,n){var e=O(S(function(t,n,e,r){r[0]?e(r[0]()):t.hasVal?e(t.val):n.hasVal&&e(n.val)},[t,n]));return _(S(function(){return!0},[t.end,n.end]),e),e}),U=[],F=-1,R=!1,W=E(2,function(t,n){return t=t(new w),S(function(n,e){var r=t["@@transducer/step"](void 0,n.val);return r&&r["@@transducer/reduced"]===!0?(e.end(!0),r["@@transducer/value"]):r},[n])});w.prototype["@@transducer/init"]=function(){},w.prototype["@@transducer/result"]=function(){},w.prototype["@@transducer/step"]=function(t,n){return n},t.exports={stream:M,combine:E(2,S),isStream:d,transduce:W,merge:A,scan:V,endsOn:_,map:E(2,u),on:E(2,o),curryN:E,immediate:O}},function(t,n,e){function r(t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}var u=e(7),o=function(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=r(t[e])?o(t[e]):u.stream(t[e]));return n},i=function(t){var n={};for(var e in t)t.hasOwnProperty(e)&&(n[e]=r(t[e])?i(t[e]):u.isStream(t[e])?t[e]():t[e]);return n},a=function(t){var n=Object.keys(t).map(function(n){return r(t[n])?a(t[n]):u.isStream(t[n])?t[n]:u.stream(t[n])});return u.combine(function(){return i(t)},n)};t.exports={streamProps:o,extractProps:i,stream:a}},function(t,n,e){var r=e(3),u=e(4),o=e(10),i=e(11);t.exports=o(function(t,n){return 1===t?u(n):r(t,i(t,[],n))})},function(t,n,e){var r=e(4);t.exports=function(t){return function n(e,u){var o=arguments.length;return 0===o?n:1===o&&null!=e&&e["@@functional/placeholder"]===!0?n:1===o?r(function(n){return t(e,n)}):2===o&&null!=e&&e["@@functional/placeholder"]===!0&&null!=u&&u["@@functional/placeholder"]===!0?n:2===o&&null!=e&&e["@@functional/placeholder"]===!0?r(function(n){return t(n,u)}):2===o&&null!=u&&u["@@functional/placeholder"]===!0?r(function(n){return t(e,n)}):t(e,u)}}},function(t,n,e){var r=e(3);t.exports=function u(t,n,e){return function(){for(var o=[],i=0,a=t,s=0;s<n.length||i<arguments.length;){var c;s<n.length&&(null==n[s]||n[s]["@@functional/placeholder"]!==!0||i>=arguments.length)?c=n[s]:(c=arguments[i],i+=1),o[s]=c,(null==c||c["@@functional/placeholder"]!==!0)&&(a-=1),s+=1}return 0>=a?e.apply(this,o):r(a,u(t,o,e))}}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function i(t){var n=function(n){function e(n){u(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n),this.displayName="FlydReactiveElement-"+t,this.state=(0,p.pickProps)(n,function(t,n){return!(0,l.isStream)(n)}),this.state.mount=!0}return o(e,n),a(e,[{key:"componentWillMount",value:function(){this.subscribe(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.subscribe(t)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"addPropListener",value:function(t,n){var e=this;return(0,l.on)(function(n){if(n!==e.state[t]){var r={};r[t]=n,e.setState(r)}},n)}},{key:"subscribe",value:function(t){var n=this;this.subscriptions&&this.unsubscribe(),this.subscriptions=[],Object.keys(t).forEach(function(e){var r=t[e];if((0,l.isStream)(r)){var u=n.addPropListener(e,r);n.subscriptions.push(u)}})}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(t){return t.end()}),this.subscriptions=null}},{key:"render",value:function(){if(!this.state.mount)return null;var n=(0,p.pickProps)(this.state,function(t){return"mount"!==t});return f.default.createElement(t,n)}}]),e}(f.default.Component);return n}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=function(t,n,e){for(var r=!0;r;){var u=t,o=n,i=e;r=!1,null===u&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,o);if(void 0!==a){if("value"in a)return a.value;var s=a.get;if(void 0===s)return;return s.call(i)}var c=Object.getPrototypeOf(u);if(null===c)return;t=c,n=o,e=i,r=!0,a=c=void 0}};n.default=i;var c=e(1),f=r(c),l=e(2),p=e(14);t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t){return(0,a.default)(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.reactive=u;var o=e(1),i=(r(o),e(12)),a=r(i)},function(t,n){"use strict";function e(t,n){var e={};return Object.keys(t).forEach(function(r){var u=t[r];n(r,u)&&(e[r]=u)}),e}Object.defineProperty(n,"__esModule",{value:!0}),n.pickProps=e}])});