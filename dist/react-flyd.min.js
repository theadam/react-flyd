!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("flyd")):"function"==typeof define&&define.amd?define(["react","flyd"],e):"object"==typeof exports?exports.reactFlyd=e(require("react"),require("flyd")):t.reactFlyd=e(t.React,t.flyd)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e.h=r.h},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,u){return e.apply(this,arguments)};case 5:return function(t,n,r,u,o){return e.apply(this,arguments)};case 6:return function(t,n,r,u,o,i){return e.apply(this,arguments)};case 7:return function(t,n,r,u,o,i,a){return e.apply(this,arguments)};case 8:return function(t,n,r,u,o,i,a,s){return e.apply(this,arguments)};case 9:return function(t,n,r,u,o,i,a,s,c){return e.apply(this,arguments)};case 10:return function(t,n,r,u,o,i,a,s,c,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e){t.exports=function(t){return function e(n){return 0===arguments.length?e:null!=n&&n["@@functional/placeholder"]===!0?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";function r(t){return t.map(function(t){return o.isStream(t)?i.createElement(a.reactive("span"),{},t):t})}function u(t,e){for(var n=arguments.length,u=Array(n>2?n-2:0),c=2;n>c;c++)u[c-2]=arguments[c];return s.hasStream(e)||e&&o.isStream(e.mount)?i.createElement.apply(void 0,[a.reactive(t),s.toStreams(e)].concat(1===u.length?u:r(u))):i.createElement.apply(void 0,[t,e].concat(r(u)))}e.__esModule=!0,e.h=u;var o=n(2),i=n(1),a=n(13),s=n(6)},function(t,e,n){"use strict";function r(t){return Object.keys(t||{}).reduce(function(e,n){if(e)return e;var u=t[n];return a.isStream(u)?!0:c(u)?r(u):e},!1)}function u(t){return c(t)&&r(t)?s.stream(t):t}function o(t){return Object.keys(t).reduce(function(e,n){var r;return i({},e,(r={},r[n]=u(t[n]),r))},{})}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.hasStream=r,e.toStreams=o;var a=n(2),s=n(8),c=function(t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,n){function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function u(t,e){return S(function(e,n){n(t(e.val))},[e])}function o(t,e){return S(function(e){t(e.val)},[e])}function i(t){return u(t,this)}function a(t){var e=this;return S(function(t,e,n){n(t.val(e.val))},[e,t])}function s(t){return t.depsMet=t.deps.every(function(t){return t.hasVal}),!t.depsMet}function c(t){if(!(t.depsMet!==!0&&s(t)||void 0!==t.end&&t.end.val===!0)){if(void 0!==C)return void q.push(t);C=t,t.depsChanged&&(t.fnArgs[t.fnArgs.length-1]=t.depsChanged);var e=t.fn.apply(t.fn,t.fnArgs);void 0!==e&&t(e),C=void 0,void 0!==t.depsChanged&&(t.depsChanged=[]),t.shouldUpdate=!1,R===!1&&p()}}function f(t){var e,n=t.listeners;if(t.queued===!1){for(t.queued=!0,e=0;e<n.length;++e)f(n[e]);U[++F]=t}}function l(t){var e,n,r,u=t.listeners;for(e=0;e<u.length;++e)r=u[e],r.end===t?P(r):(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0,f(r));for(;F>=0;--F)n=U[F],n.shouldUpdate===!0&&c(n),n.queued=!1}function p(){for(R=!0;q.length>0;){var t=q.shift();t.vals.length>0&&(t.val=t.vals.shift()),l(t)}R=!1}function d(t){return r(t)&&"hasVal"in t}function h(){return"stream("+this.val+")"}function v(t,e){return void 0!==e&&null!==e&&r(e.then)?void e.then(t):(t.val=e,t.hasVal=!0,void(void 0===C?(R=!0,l(t),q.length>0?p():R=!1):C===t?g(t,t.listeners):(t.vals.push(e),q.push(t))))}function g(t,e){var n,r;for(n=0;n<e.length;++n)r=e[n],r.end!==t?(void 0!==r.depsChanged&&r.depsChanged.push(t),r.shouldUpdate=!0):P(r)}function y(){function t(e){return arguments.length>0?(v(t,e),t):t.val}return t.hasVal=!1,t.val=void 0,t.vals=[],t.listeners=[],t.queued=!1,t.end=void 0,t.map=i,t.ap=a,t.of=M,t.toString=h,t}function m(t,e){for(var n=0;n<t.length;++n)t[n].listeners.push(e)}function b(t,e){var n=y();return n.fn=e,n.deps=t,n.depsMet=!1,n.depsChanged=t.length>0?[]:void 0,n.shouldUpdate=!1,m(t,n),n}function O(t){return t.depsMet===!1&&(t.depsMet=!0,c(t)),t}function j(t,e){var n=e.indexOf(t);e[n]=e[e.length-1],e.length--}function x(t){for(var e=0;e<t.deps.length;++e)j(t,t.deps[e].listeners);t.deps.length=0}function P(t){void 0!==t.deps&&x(t),void 0!==t.end&&x(t.end)}function _(t,e){return x(e.end),t.listeners.push(e.end),e.end.deps.push(t),e}function k(){return!0}function M(t){var e=b([],k),n=y();return n.end=e,n.fnArgs=[],e.listeners.push(n),arguments.length>0&&n(t),n}function S(t,e){var n,r,u,o,i=b([],k);for(u=[],o=[],n=0;n<e.length;++n)void 0!==e[n]&&(u.push(e[n]),void 0!==e[n].end&&o.push(e[n].end));return r=b(u,t),r.depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=i,i.listeners.push(r),m(o,i),i.deps=o,c(r),r}function w(){}var C,E=n(9),q=[],V=E(3,function(t,e,n){var r=S(function(n,r){r(e=t(e,n.val))},[n]);return r.hasVal||r(e),r}),A=E(2,function(t,e){var n=O(S(function(t,e,n,r){r[0]?n(r[0]()):t.hasVal?n(t.val):e.hasVal&&n(e.val)},[t,e]));return _(S(function(){return!0},[t.end,e.end]),n),n}),U=[],F=-1,R=!1,W=E(2,function(t,e){return t=t(new w),S(function(e,n){var r=t["@@transducer/step"](void 0,e.val);return r&&r["@@transducer/reduced"]===!0?(n.end(!0),r["@@transducer/value"]):r},[e])});w.prototype["@@transducer/init"]=function(){},w.prototype["@@transducer/result"]=function(){},w.prototype["@@transducer/step"]=function(t,e){return e},t.exports={stream:M,combine:E(2,S),isStream:d,transduce:W,merge:A,scan:V,endsOn:_,map:E(2,u),on:E(2,o),curryN:E,immediate:O}},function(t,e,n){function r(t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}var u=n(7),o=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n])?o(t[n]):u.stream(t[n]));return e},i=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n])?i(t[n]):u.isStream(t[n])?t[n]():t[n]);return e},a=function(t){var e=Object.keys(t).map(function(e){return r(t[e])?a(t[e]):u.isStream(t[e])?t[e]:u.stream(t[e])});return u.combine(function(){return i(t)},e)};t.exports={streamProps:o,extractProps:i,stream:a}},function(t,e,n){var r=n(3),u=n(4),o=n(10),i=n(11);t.exports=o(function(t,e){return 1===t?u(e):r(t,i(t,[],e))})},function(t,e,n){var r=n(4);t.exports=function(t){return function e(n,u){var o=arguments.length;return 0===o?e:1===o&&null!=n&&n["@@functional/placeholder"]===!0?e:1===o?r(function(e){return t(n,e)}):2===o&&null!=n&&n["@@functional/placeholder"]===!0&&null!=u&&u["@@functional/placeholder"]===!0?e:2===o&&null!=n&&n["@@functional/placeholder"]===!0?r(function(e){return t(e,u)}):2===o&&null!=u&&u["@@functional/placeholder"]===!0?r(function(e){return t(n,e)}):t(n,u)}}},function(t,e,n){var r=n(3);t.exports=function u(t,e,n){return function(){for(var o=[],i=0,a=t,s=0;s<e.length||i<arguments.length;){var c;s<e.length&&(null==e[s]||e[s]["@@functional/placeholder"]!==!0||i>=arguments.length)?c=e[s]:(c=arguments[i],i+=1),o[s]=c,(null==c||c["@@functional/placeholder"]!==!0)&&(a-=1),s+=1}return 0>=a?n.apply(this,o):r(a,u(t,o,n))}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){var e=function(e){function n(e){u(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.displayName="FlydReactiveElement-"+t,this.state=(0,p.pickProps)(e,function(t,e){return!(0,l.isStream)(e)}),this.state.mount=!0}return o(n,e),a(n,[{key:"componentWillMount",value:function(){this.subscribe(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.subscribe(t)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"addPropListener",value:function(t,e){var n=this;return(0,l.on)(function(e){if(e!==n.state[t]){var r={};r[t]=e,n.setState(r)}},e)}},{key:"subscribe",value:function(t){var e=this;this.subscriptions&&this.unsubscribe(),this.subscriptions=[],Object.keys(t).forEach(function(n){var r=t[n];if((0,l.isStream)(r)){var u=e.addPropListener(n,r);e.subscriptions.push(u)}})}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(t){return t.dispose()}),this.subscriptions=null}},{key:"render",value:function(){if(!this.state.mount)return null;var e=(0,p.pickProps)(this.state,function(t){return"mount"!==t});return f.default.createElement(t,e)}}]),n}(f.default.Component);return e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e,n){for(var r=!0;r;){var u=t,o=e,i=n;r=!1,null===u&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,o);if(void 0!==a){if("value"in a)return a.value;var s=a.get;if(void 0===s)return;return s.call(i)}var c=Object.getPrototypeOf(u);if(null===c)return;t=c,e=o,n=i,r=!0,a=c=void 0}};e.default=i;var c=n(1),f=r(c),l=n(2),p=n(14);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t){return(0,a.default)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.reactive=u;var o=n(1),i=(r(o),n(12)),a=r(i)},function(t,e){"use strict";function n(t,e){var n={};return Object.keys(t).forEach(function(r){var u=t[r];e(r,u)&&(n[r]=u)}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.pickProps=n}])});